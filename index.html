<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Szkeletal: Estrone Kiszok</title> 
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="gameContainer">
    <div id="title">Szkeletal: Estrone Kiszok</div>
    <div id="playerHPBarOuter">
      <div id="playerHPBarInner"></div>
      <div id="playerHPBarTxt"></div>
    </div>
    <div id="xpBarOuter">
      <div id="xpBarFill"></div>
      <div id="xpBarTxt"></div>
    </div>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    
    <div id="bonusPanel"></div>
    <div id="gameInfo">
      <div class="stat">
        <div class="stat-icon" style="background:#FFD700;">ğŸ¯</div>
        Wynik: <span id="score">0</span>
        <div class="stat-progress" id="scoreProgress" style="width:0%;"></div>
      </div>
      <div class="stat">
        <div class="stat-icon" style="background:#4CAF50;">â­</div>
        Poziom: <span id="level">1</span>
        <div class="stat-progress" id="levelProgress" style="width:0%;"></div>
      </div>
      <div class="stat">
        <div class="stat-icon" style="background:#2196F3;">ğŸ“ˆ</div>
        XP: <span id="xp">0</span>/<span id="xpNeeded">5</span>
        <div class="stat-progress" id="xpProgress" style="width:0%;"></div>
      </div>
      <div class="stat">
        <div class="stat-icon" style="background:#444;">â¤ï¸</div>
        Å»ycia: <span id="health">100</span>
        <div class="stat-progress" id="healthProgress" style="width:100%;"></div>
      </div>
      <div class="stat">
        <div class="stat-icon" style="background:#9C27B0;">â±ï¸</div>
        Czas: <span id="time">0</span>
        <div class="stat-progress" id="timeProgress" style="width:0%;"></div>
      </div>
    </div>
    <div id="instructions">âŒ¨ï¸ Sterowanie: WASD/strzaÅ‚ki lub ğŸ•¹ï¸ wirtualny joystick | ğŸ“Š Zbieraj XP, wybieraj perki | ğŸ‘‘ Pokonuj elity i otwieraj skrzynie | â¸ï¸ ESC - pauza</div>

    
    <div id="menuOverlay" class="overlay" style="display:flex;">
      <div class="panel">
        <h3>ğŸ® Menu GÅ‚Ã³wne</h3>
        <div class="tabs">
          <button class="tab active">Gra</button>
          <button class="tab">Konfiguracja</button>
          <button class="tab btn-danger">ğŸ› ï¸ Dev Menu</button>
          <button class="tab btn-secondary">Przewodnik</button>
        </div>

        <div id="tab-game" class="tab-content active">
          <p style="margin-bottom:15px;">Witaj w grze Szkeletal: Estrone Kiszok! Wybierz poziom trudnoÅ›ci i rozpocznij rozgrywkÄ™.</p>
          <button id="btnStart" class="btn" type="button" style="width:100%; font-size:18px; padding:15px;">â–¶ï¸ Start Gry</button>
          <button id="btnContinue" class="btn btn-warning" type="button" style="width:100%; font-size:18px; padding:15px; display:none; margin-top:10px;">â¯ï¸ Kontynuuj GrÄ™</button>
        
          <div class="scores-container" style="margin-top:20px;">
            <button class="btn btn-danger btn-clear-scores" type="button">ğŸ—‘ï¸ WyczyÅ›Ä‡</button>
            <div id="scoresTable">
              <h4>ğŸ† Tablica wynikÃ³w</h4>
              <table>
                <thead>
                  <tr>
                    <th>#ï¸âƒ£</th>
                    <th>ğŸ¯ Wynik</th>
                    <th>â­ Poziom</th>
                    <th>â±ï¸ Czas</th>
                  </tr>
                </thead>
                <tbody id="scoresBodyMenu"></tbody>
              </table>
            </div>
          </div>

        </div>

        <div id="tab-config" class="tab-content">
          </div>

        <div id="tab-dev" class="tab-content">
          </div>

        <div id="tab-guide" class="tab-content">
          </div>
      </div>
    </div>

    <div id="levelUpOverlay" class="overlay">
      <div id="levelUpPanel" class="panel">
        <h3>Wybierz ulepszenie</h3>
        <div id="perks"></div>
        <button id="btnContinueMaxLevel" class="btn btn-warning" type="button" style="width:100%; font-size:16px; padding:12px; display:none; margin-top:10px;">
          Wszystkie perki wymaksowane! Kontynuuj...
        </button>
        <div style="margin-top:16px;">
          <h4 style="margin:0 0 10px 0;">ğŸ“Š Aktualne statystyki</h4>
          <div id="statsDisplay"></div>
        </div>
      </div>
    </div>

    <div id="pauseOverlay" class="overlay">
      <div class="panel" style="text-align:center;">
        <h3>â¸ï¸ Pauza</h3>
        <p style="font-size:16px; margin:20px 0;">Gra wstrzymana</p>
        <div class="row" style="justify-content:center;">
          <button id="btnResume" class="btn" type="button">WznÃ³w</button>
          <button id="btnPauseMenu" class="btn btn-secondary" type="button">Menu gÅ‚Ã³wne</button>
        </div>
        <div style="margin-top:16px;">
          <h4 style="margin:15px 0 10px 0;">ğŸ“Š Aktualne statystyki</h4>
          <div id="statsDisplayPause"></div>
        </div>
      </div>
    </div>

    <div id="resumeOverlay" class="overlay">
      <div class="panel">
        <h3>Wznawianie gry</h3>
        <div id="resumeText">Wznawianie za: 1.50 s</div>
      </div>
    </div>

    <div id="chestOverlay" class="overlay">
      <div class="panel" style="text-align:center;">
        <h3>ğŸ OtwÃ³rz skrzyniÄ™</h3>
        <div id="chestRewardDisplay" class="chest-reward"></div>
        <button id="chestButton" class="btn" type="button">OtwÃ³rz i odbierz</button>
      </div>
    </div>

    <div id="gameOverOverlay" class="overlay">
      <div class="panel" style="text-align:center;">
        <h3>ğŸ’€ GAME OVER</h3>
        <div style="margin:20px 0; font-size:18px;">
          <p style="margin:8px 0;"><strong>ğŸ¯ Wynik:</strong> <span id="finalScore">0</span> punktÃ³w</p>
          <p style="margin:8px 0;"><strong>â­ Poziom:</strong> <span id="finalLevel">1</span></p>
          <p style="margin:8px 0;"><strong>â±ï¸ Czas przetrwania:</strong> <span id="finalTime">0</span></p>
        </div>
        <div class="scores-container">
          <button class="btn btn-danger btn-clear-scores" type="button">ğŸ—‘ï¸ WyczyÅ›Ä‡</button>
          <div id="scoresTable">
            <h4>ğŸ† Tablica wynikÃ³w</h4>
            <table>
              <thead>
                <tr>
                  <th>#ï¸âƒ£</th>
                  <th>ğŸ¯ Wynik</th>
                  <th>â­ Poziom</th>
                  <th>â±ï¸ Czas</th>
                </tr>
              </thead>
              <tbody id="scoresBodyGameOver"></tbody>
            </table>
          </div>
        </div>
        <div class="row" style="justify-content:center; gap:12px; margin-top:20px;">
          <button id="btnRetry" class="btn" type="button">Zagraj ponownie</button>
          <button id="btnMenu" class="btn btn-secondary" type="button">Menu</button>
        </div>
      </div>
    </div>

    <div id="confirmOverlay" class="overlay">
      <div class="panel" style="text-align:center; max-width: 450px;">
        <h3 id="confirmTitle">Potwierdzenie</h3>
        <p id="confirmText" style="font-size:16px; margin:20px 0; line-height: 1.5;">
          Czy na pewno chcesz wyzerowaÄ‡ tablicÄ™ wynikÃ³w? Tej operacji nie moÅ¼na cofnÄ…Ä‡.
        </p>
        <div class="row" style="justify-content:center;">
          <button id="btnConfirmYes" class="btn btn-danger" type="button">Tak, wyczyÅ›Ä‡</button>
          <button id="btnConfirmNo" class="btn btn-secondary" type="button">Anuluj</button>
        </div>
      </div>
    </div>

    <div id="joystickZone">
      <div id="joystickBase"></div>
      <div id="joystick"></div>
    </div>
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>